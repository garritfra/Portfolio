<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width, initial-scale=1"/><meta charSet="utf-8"/><title>A simple guestbook | Garrit&#x27;s Notes</title><meta name="Description" content="Generalist developer writing about fullstack development, system administration and free software."/><link rel="icon" type="image/svg+xml" href="/favicon.svg"/><link rel="webmention" href="https://webmention.io/garrit.xyz/webmention"/><link rel="pingback" href="https://webmention.io/garrit.xyz/xmlrpc"/><link href="https://cdn.jsdelivr.net/npm/shareon@2/dist/shareon.min.css" rel="stylesheet"/><meta name="next-head-count" content="8"/><link rel="preload" href="/_next/static/css/d7b5a815c8fda5f6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/d7b5a815c8fda5f6.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-ee7e63bc15b31913.js" defer=""></script><script src="/_next/static/chunks/framework-305cb810cde7afac.js" defer=""></script><script src="/_next/static/chunks/main-8f5aa507902b2d74.js" defer=""></script><script src="/_next/static/chunks/pages/_app-d8a9932a00f6e475.js" defer=""></script><script src="/_next/static/chunks/996-d63ad7fae077247e.js" defer=""></script><script src="/_next/static/chunks/146-00194b356792ddd7.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bpost%5D-5074f726cf5b0735.js" defer=""></script><script src="/_next/static/VYPhm2fTttAtwRaZriPSY/_buildManifest.js" defer=""></script><script src="/_next/static/VYPhm2fTttAtwRaZriPSY/_ssgManifest.js" defer=""></script></head><body><div id="__next"><section class="layout"><header class="header"><nav class="nav" role="navigation" aria-label="main navigation"><div class="header__container"><a href="/" class="header__container__logo underlined">Garrit&#x27;s Notes</a></div><ul class="header__links"><li><a href="/posts" class="underlined">Blog</a></li><li><a href="/contact" class="underlined">Contact</a></li><li><a href="/cv" class="underlined">Resume</a></li></ul></nav></header><div class="content"><article class="page h-entry"><div class="page__info"><h1 class="p-name">A simple guestbook</h1><time class="page__info__date">Oct 05 2022</time></div><div class="page__body e-content"><blockquote>
<p><strong>TL;DR</strong>: Click <a href="/guestbook">here</a> to view the guestbook.</p>
</blockquote>
<p>For a while now, I wanted to have a quick way to update the pages on my website.</p>
<p>GitHub has the
<a href="https://docs.github.com/en/get-started/using-github/keyboard-shortcuts#source-code-editing">&quot;.&quot;</a>
hotkey, which opens a web based editor for the file you&#x27;re currently viewing.
This site now has this feature as well! To try it out, just hit <code>.</code>, and you&#x27;ll
be redirected to the file editor for this page.</p>
<p>To see how I implemented this feature, you take a look at
<a href="https://github.com/garritfra/garrit.xyz/commit/658efa3a3ebfebebbf74d0eb6aae6c1cc9566516">this</a>
commit. It boils down to this snippet of code:</p>
<pre><code class="language-js">window.addEventListener(&quot;keypress&quot;, (e) =&gt; {
	if (e.key === &quot;.&quot;) {
		const baseUrl = &quot;https://github.com/garritfra/garrit.xyz/edit/main/content&quot;;
		const filePath = window.location.pathname;
		const url = `${baseUrl}${filePath}.md`;

		window.location.href = url;
	}
});
</code></pre>
<p>Pretty simple, huh?</p>
<p>Since this doesn&#x27;t work on mobile devices, I also added <a href="https://github.com/garritfra/garrit.xyz/commit/8c374a8bc0b66192c454300489fee52e7299c9dd#diff-2cbafea0c9dff483ebab9ad670b1cdb3eb7aac552f9c161e42fee84c2efe3a69">a custom 404
page</a>
which also redirects to the editor, if the filepath ends with in <code>/edit</code>.</p>
<p>Let&#x27;s have some fun and put this feature to use. I added a simple
<a href="/guestbook">guestbook</a> to this site, which is open to receive pull requests.
I&#x27;d love to hear from you!</p>
<p>This is post 040 of <a href="https://100daystooffload.com/">#100DaysToOffload</a>.</p><hr/><p><a href="mailto:garrit@slashdev.space?subject=Re: A%20simple%20guestbook">Reply via E-Mail</a></p><a href="https://www.buymeacoffee.com/garrit" target="_blank"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&amp;emoji=&amp;slug=garrit&amp;button_colour=FFDD00&amp;font_colour=000000&amp;font_family=Cookie&amp;outline_colour=000000&amp;coffee_colour=ffffff"/></a><p class="page__tag-list"><svg class="page__tag-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg><a href="/posts?tags=note">#<!-- -->note</a><a href="/posts?tags=meta">#<!-- -->meta</a><a href="/posts?tags=100DaysToOffload">#<!-- -->100DaysToOffload</a><a href="/posts?tags=guide">#<!-- -->guide</a></p><div class="shareon"><a class="facebook"></a><a class="linkedin"></a><a class="mastodon"></a><a class="pocket"></a><a class="reddit"></a><a class="telegram"></a><a class="twitter"></a><a class="whatsapp"></a></div><hr/><h2>Continue Reading</h2><div><div class="blog__list__post"><time class="blog__list__post__date">Jul 06 2023</time><br/><a href="/posts/2023-07-06-rss-changes">PSA: RSS feed changes</a></div><div class="blog__list__post"><time class="blog__list__post__date">Jun 01 2023</time><br/><a href="/posts/2023-06-01-single-page-applications-on-github-pages">Single Page Applications on GitHub Pages</a></div><div class="blog__list__post"><time class="blog__list__post__date">Apr 27 2023</time><br/><a href="/posts/2023-04-27-migrating-homeassistant-from-sd-to-ssd">Migrating Homeassistant from SD to SSD</a></div><div class="blog__list__post"><time class="blog__list__post__date">Apr 12 2023</time><br/><a href="/posts/2023-04-12-instant-dark-theme">Instant dark theme</a></div><div class="blog__list__post"><time class="blog__list__post__date">Apr 01 2023</time><br/><a href="/posts/2023-04-01-quality-vs.-quantity">Quality vs. Quantity</a></div></div></div></article></div><footer class="footer"><div class="footer__content"><h3>Links of Interest</h3><a href="/rss.xml">RSS Feed</a><br/><a href="/todo">Todo List</a><br/><a href="https://keyoxide.org/hkp/garrit@slashdev.space">PGP Key</a><br/><a href="/guestbook">Guestbook</a><br/><a href="/blogroll">Blogroll</a><br/><a href="/ctf">Capture the Flag</a><h3>Elsewhere</h3><a href="https://github.com/garritfra" rel="me">Github</a><br/><a href="https://www.linkedin.com/in/garritfranke/">LinkedIn</a><br/><a href="https://fosstodon.org/@garritfra">Mastodon (ActivityPub)</a><br/><a href="/contact">Contact</a></div><p>👻 Proud member of <a target="_blank" href="https://darktheme.club/">darktheme.club</a> <!-- -->👻</p><p>© 2018-<!-- -->2023<!-- --> Garrit Franke<br/><a href="/privacy">Privacy</a> |<!-- --> <a target="_blank" href="https://github.com/garritfra/garrit.xyz">Source Code</a></p></footer></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"slug":"2022-10-05-simple-guestbook","markdownBody":"\n\u003e **TL;DR**: Click [here](/guestbook) to view the guestbook.\n\nFor a while now, I wanted to have a quick way to update the pages on my website.\n\nGitHub has the\n[\".\"](https://docs.github.com/en/get-started/using-github/keyboard-shortcuts#source-code-editing)\nhotkey, which opens a web based editor for the file you're currently viewing.\nThis site now has this feature as well! To try it out, just hit `.`, and you'll\nbe redirected to the file editor for this page.\n\nTo see how I implemented this feature, you take a look at\n[this](https://github.com/garritfra/garrit.xyz/commit/658efa3a3ebfebebbf74d0eb6aae6c1cc9566516)\ncommit. It boils down to this snippet of code:\n\n```js\nwindow.addEventListener(\"keypress\", (e) =\u003e {\n\tif (e.key === \".\") {\n\t\tconst baseUrl = \"https://github.com/garritfra/garrit.xyz/edit/main/content\";\n\t\tconst filePath = window.location.pathname;\n\t\tconst url = `${baseUrl}${filePath}.md`;\n\n\t\twindow.location.href = url;\n\t}\n});\n```\n\nPretty simple, huh?\n\nSince this doesn't work on mobile devices, I also added [a custom 404\npage](https://github.com/garritfra/garrit.xyz/commit/8c374a8bc0b66192c454300489fee52e7299c9dd#diff-2cbafea0c9dff483ebab9ad670b1cdb3eb7aac552f9c161e42fee84c2efe3a69)\nwhich also redirects to the editor, if the filepath ends with in `/edit`.\n\nLet's have some fun and put this feature to use. I added a simple\n[guestbook](/guestbook) to this site, which is open to receive pull requests.\nI'd love to hear from you!\n\nThis is post 040 of [#100DaysToOffload](https://100daystooffload.com/).\n","frontmatter":{"title":"A simple guestbook","date":"2022-10-05","tags":"note, meta, 100DaysToOffload, guide"},"tags":["note","meta","100DaysToOffload","guide"]},"recommendedPosts":[{"slug":"2023-07-06-rss-changes","markdownBody":"\nIf you're subscribed to this blog via [RSS](/rss.xml), you will soon likely see\na bunch of my posts re-appearing in your feed. For that, I apologize in advance!\n\nI'm planning to make two modifications. Firstly, I want to add a `id` property\nto all entries. So far, your reader has been likely been relying on the URL slug\nto identify an entry. Adding the `id` property makes this more flexible, but it\nalso means that your reader will think that there are new entries in the feed.\nThis will only happen once.\n\nSecondly, I want to reduce the amount of the entries. If you look at the\n[feed](/rss.xml), you'll see a lot of junk from way back, containing every word\nI wrote on this blog. Remember that this page is fetched periodically (usually\nevery hour for most readers) by **every** subscriber. That's a lot of traffic\nthat could be better put to use somewhere else. Not that it costs me anything -\nthis site is hosted on [GitHub Pages](https://pages.github.com/) - but if this\nhelps reduce the carbon footprint of the site even by one gram, it's worth the\neffort.\n\nAs of the time of writing this post, by restricting the number of posts to 10,\nwe reduce the amount of traffic per client per hour from 272 kB down to to 24\nkB. That's over **2 GB** of traffic saved each year **per subscriber**!!\n\nThat's all - just a heads up. Thanks for your patience, you're awesome! ✌️\n\n---\n\nThis is post 071 of [#100DaysToOffload](https://100daystooffload.com/).\n","frontmatter":{"title":"PSA: RSS feed changes","date":"2023-07-06","tags":"100DaysToOffload, note, meta, rss"},"tags":["100DaysToOffload","note","meta","rss"]},{"slug":"2023-06-01-single-page-applications-on-github-pages","markdownBody":"\nMy latest project, [sendpasswords.net](https://sendpasswords.net/) is a [Single Page Application](https://developer.mozilla.org/en-US/docs/Glossary/SPA) deployed on GitHub Pages.\n\nGitHub Pages is configured in a way to host static HTML files without any bells and whistles. This means that if you try to fetch a document that's *not* the index, for example `/foo`, the server will try to load the file with that name. \n\nBy nature, SPAs only consist of a single HTML entry point (`index.html` in most cases). It's responsible for routing the user to the correct page if there are multiple paths. And here's the crux: if the user tries to load `/foo`, he will not land at the SPA entry point. Instead, he will see a `404` error.\n\n## The solution\n\nA `404` response will automatically return a file called `404.html`, which we can use to our advantage. After building the application, simply copy the `index.html` to `404.html`, as demonstrated by [this commit](https://github.com/garritfra/sendpasswords.net/commit/66bdb68c229a3ac3386f7816a746155e658eb586). This will use `index.html` to serve the application on the root level, and `404.html` to load *the same app* if the page doesn't exist as a file. Whether the `index.html` is needed if there's already a `404.html` is up to you. I left it in to make clear that this is just a workaround.\n\nThis is a [well known](https://stackoverflow.com/a/69308662/9046809) workaround, but I wanted to bring some extra awareness to it, since it's a problem I ran into a couple of times so far. Happy SPAing!\n\n---\n\nThis is post 069 (nice) of [#100DaysToOffload](https://100daystooffload.com/).\n","frontmatter":{"title":"Single Page Applications on GitHub Pages","date":"2023-06-01","tags":"100DaysToOffload, guide, note, web, javascript, github"},"tags":["100DaysToOffload","guide","note","web","javascript","github"]},{"slug":"2023-04-27-migrating-homeassistant-from-sd-to-ssd","markdownBody":"\nI finally got frustrated with the performance of my Raspberry Pi 4 running Homeassistant on a SD card, so I went ahead and got an SSD.\r\n\r\nThe migration was **very** easy:\r\n\r\n1. Create and download a full backup through the UI\r\n2. Flash Homeassistant onto the SSD\r\n3. Remove the SD card and plug the SSD into a USB 3.0 port of the Pi\r\n4. Boot\r\n5. Go through the onboarding procedure\r\n6. Restore Backup\r\n7. Profit\r\n\r\nIt worked like a charm! The speed has improved A LOT, and everything was set up as it should be. \r\n\r\n...Until we turned on the lights in the livingroom. My ZigBee-dongle, plugged into another USB port, wasn't able to communicate with the devices on the network.\r\n\r\nAfter some digging around, I came across several threads stating that an SSD over USB 3.0 apparently creates a lot of interference to surrounding hardware, including my ZigBee dongle. The fix was simple: either get an extension port for the dongle, or plug the SSD into a USB 2.0 port of the Pi. Since I didn't have an extension cord to get the dongle far away enough from the SSD, I went with the latter option for now. And that fixed it! The performance was much worse, but still better than the SD I used before. My next step will be to grab an extension cord from my parents. I'm sure they won't mind.\r\n\r\nI hope this helps!\r\n\r\n---\r\n\r\nThis is post 066 of [#100DaysToOffload](https://100daystooffload.com/).\r\n\r\n\r\n\r\n\r\n\n","frontmatter":{"title":"Migrating Homeassistant from SD to SSD","date":"2023-04-27","tags":"100DaysToOffload, guide, note, homeassistant, homelab"},"tags":["100DaysToOffload","guide","note","homeassistant","homelab"]},{"slug":"2023-04-12-instant-dark-theme","markdownBody":"\nThanks to [Jacksons](https://jacksonchen666.com/) [update to darktheme.club](https://github.com/garritfra/darktheme.club/pull/79), I just came across a neat little [CSS property](https://developer.mozilla.org/en-US/docs/Web/CSS/color-scheme) that turns a mostly CSS-free document into a pleasantly dark site:\r\n\r\n```css\r\n:root {\r\n  color-scheme: light dark;\r\n}\r\n```\r\n\r\nThis will adjust all elements on the page to the color scheme preferred by the user - without any other custom styles! 🤯 It is also [widely supported](https://caniuse.com/mdn-css_properties_color-scheme) by browsers.\r\n\r\nI've always been quite dependent on CSS-frameworks for any project I'm starting. Going forward, I'd be interested to see how framework-less sites would feel using this property. If all else fails, there's always the awesome [simple.css](https://simplecss.org/) library, which you can slap on top of a raw document to make it pretty (and dark, if preferred) without using custom classes.\r\n\r\n---\r\n\r\nThis is post 064 of [#100DaysToOffload](https://100daystooffload.com/).\n","frontmatter":{"title":"Instant dark theme","date":"2023-04-12","tags":"100DaysToOffload, guide, note, learnings, web, css, til"},"tags":["100DaysToOffload","guide","note","learnings","web","css","til"]},{"slug":"2023-04-01-quality-vs.-quantity","markdownBody":"\nThe amount and quality of the posts on this blog strongly depends on my mood. Some times I want to write about every thought that crosses my mind, leading to 4+ average- to low-quality posts a week. I think I'm in one of these phases right now.\n\nSome other times, I feel like most of my thoughts are not worth the effort to write about, but the ones that I **do** write about, often become the ones that I'm [most](/posts/2021-04-07-pgp-guide) [proud](/posts/2021-10-04-server-side-caching-with-apollo-graphql) [of](/posts/2021-01-18-reasons-the-fediverse-is-better).\n\nThese phases act like opposing forces that coexist very well. Pumping out more thoughts of lesser quality frees up my mind for higher quality ones, and when I'm writing about higher quality thoughts, I get the urge to write more often, completing the circuit.\n\nIn the end, it's not about **what** you write about, but about the process of writing itself. Every post on a personal blog is [a snapshot of your thoughts at a point in time](https://kevquirk.com/thoughts-on-editing-posts/), no matter if you're feeling qualitative or quantitative.\n\n---\n\nThis is post 062 of [#100DaysToOffload](https://100daystooffload.com/).\n","frontmatter":{"title":"Quality vs. Quantity","date":"2023-04-01","tags":"100DaysToOffload, note, opinion, meta, writing, life"},"tags":["100DaysToOffload","note","opinion","meta","writing","life"]}]},"__N_SSG":true},"page":"/posts/[post]","query":{"post":"2022-10-05-simple-guestbook"},"buildId":"VYPhm2fTttAtwRaZriPSY","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>