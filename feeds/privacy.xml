<?xml version="1.0"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>
            garrit.xyz
        </title>
        <link>
            https://garrit.xyz
        </link>
        <description>
            Garrit Franke
        </description>
        <language>
            en
        </language>
        <lastBuildDate>
            Tue, 21 Mar 2023 00:00:00 +0000
        </lastBuildDate>
        <item>
            <title>
                I won't buy a YubiKey
            </title>
            <guid>
                https://garrit.xyz/posts/2023-03-21-i-wont-buy-a-yubikey
            </guid>
            <link>
                https://garrit.xyz/posts/2023-03-21-i-wont-buy-a-yubikey?utm_source=rss
            </link>
            <pubDate>
                Tue, 21 Mar 2023 00:00:00 +0000
            </pubDate>
            <description>
                <![CDATA[<p>I have a YubiKey that I use for work, and I love using it. But I won&#39;t get one for my personal life.</p>

<p>I&#39;ve been thinking about this for some time now, but I ultimately don&#39;t think the benefits outweigh the hassle of always carrying around another device that I risk losing or breaking.</p>

<p>A Yubikey provides a very good second factor, but so does my phone. My phone, just like a Yubikey, is locked behind a third factor (a pin or biometric sensor), so my phone essentially <em>is</em> a Yubikey. You can argue that the authenticator app on my phone (bitwarden) can be hacked, but I&#39;m willing to take that risk if it means I have to reset all security measures on all accounts if I lose the key.</p>

<p>So, I&#39;m not getting a Yubikey.</p>

<h3>Replies &amp; Mentions</h3>

<ul><li><a href="https://kevquirk.com/i-wont-by-a-yubikey/">Kev Quirk: re: I won&#39;t buy a YubiKey</a></li><li><a href="https://alsonkaw.com/muses/why-i-wont-use-a-yubikey/">Alson Kaw: Why I won&#39;t use a YubiKey</a></li></ul>

<hr/>

<p>This is post 058 of <a href="https://100daystooffload.com/">#100DaysToOffload</a>.</p>]]>
            </description>
        </item>
        <item>
            <title>
                A pretty good guide to pretty good privacy
            </title>
            <guid>
                https://garrit.xyz/posts/2021-04-07-pgp-guide
            </guid>
            <link>
                https://garrit.xyz/posts/2021-04-07-pgp-guide?utm_source=rss
            </link>
            <pubDate>
                Wed, 07 Apr 2021 00:00:00 +0000
            </pubDate>
            <description>
                <![CDATA[<p>In the past week, I&#39;ve been experimenting with PGP, or GPG in particular. In a nutshell, PGP is an encryption standard with a wide range of use cases. For quite some time, I didn&#39;t see the point of keeping a PGP keypair. It seemed like a burden to securely keep track of the key(s). Once you loose it, you will loose the trust of others. But after doing some research on the topic, I found that it&#39;s not actually that much of a hassle, while giving you many benefits.</p>

<h1>The Why</h1>

<p>The most obvious benefit is encrypting and decrypting messages and files. If you upload your public key, I can encrypt our private conversations. Nobody will be able to read what we&#39;re chatting about. If you fear that cloud providers will read through your documents, you can also go ahead and encrypt all of your data with your keypair.</p>

<p>But PGP is not just about encryption. A keypair also gives you a proof of identity. If I see that a piece of work is signed by you, I can be certain that you and only you have worked on this. By signing the keys of people we trust, we build a &quot;chain of trust&quot;. A key with many signatures generally has a higher reputation than one without any signatures.</p>

<p>Take Git commits for example. All it takes is a <code>git config user.email &quot;elon@spacex.com&quot;</code> and I can publish code under a different identity. But if everyone on the team signed their work, they will quickly see that a commit is missing its signature, because I&#39;m simply not able to sign my work with Elon Musk&#39;s keypair. Only if they see a badge like this, they will know that they can trust it.</p>

<p>Your keypair can also come in handy as a SSH key. Before I knew about PGP, I always had to install one key per machine I was working on. With PGP, you only have a single identity, and therefore you only have to install one key on your servers.</p>

<h1>The How</h1>

<p>Let&#39;s first go over the process of setting up a keypair. For this, we will need the <code>gpg</code> command installed on our system. Usually, this is just a <code>&lt;package manager&gt; install gpg</code> away. Then, we will have to generate a keypair. The quickest way to get one is to use <code>gpg --gen-key</code>, but that will make some quirky assumptions about how you want to use your key.</p>

<p>In PGP, there is this concept of a <strong>keyring</strong>. A keyring has one master key and many subkeys. It is generally a good idea to have one fat master key that never expires and many small subkeys that last about a year or two. The benefit of structuring your keys like this is that you will always have your trusted keychain, and in case something goes south, E.g. your key gets compromised, you can replace that subkey and keep your identity.</p>

<p>With that in mind, let&#39;s create our master key. Run <code>gpg --full-gen-key</code> and follow the instructions. You probably want to use the <code>RSA and RSA (default)</code> option, and a key that is 4096 bits long (remember, this is the fat master key that never expires, so it must be secure). The comment can be left blank, unless you know what you are doing with that field. Enter a strong passphrase! If your private key were to get compromised, this passphrase is your last line of defense. Make it long, hard to crack but still rememberable. If everything went well, your key should be generated. Here&#39;s the full example output:</p>

<p><code></code>`
root@c6acc9eb4fd1:/# gpg --full-gen-key
gpg (GnuPG) 2.2.19; Copyright (C) 2019 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.</p>

<p>Please select what kind of key you want:
   (1) RSA and RSA (default)
   (2) DSA and Elgamal
   (3) DSA (sign only)
   (4) RSA (sign only)
  (14) Existing key from card
Your selection? 1
RSA keys may be between 1024 and 4096 bits long.
What keysize do you want? (3072) 4096
Requested keysize is 4096 bits
Please specify how long the key should be valid.
         0 = key does not expire
      &lt;n&gt;  = key expires in n days
      &lt;n&gt;w = key expires in n weeks
      &lt;n&gt;m = key expires in n months
      &lt;n&gt;y = key expires in n years
Key is valid for? (0)
Key does not expire at all
Is this correct? (y/N) y</p>

<p>GnuPG needs to construct a user ID to identify your key.</p>

<p>Real name: Foo
Name must be at least 5 characters long
Real name: Foo Bar
Email address: foo@bar.com
Comment:
You selected this USER-ID:
    &quot;Foo Bar <a href="mailto:foo@bar.com">foo@bar.com</a>&quot;</p>

<p>Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? O
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.
gpg: key C8E4854970B7A1A3 marked as ultimately trusted
gpg: revocation certificate stored as &#39;/root/.gnupg/openpgp-revocs.d/4E83F95221E92EDB933F155AC8E4854970B7A1A3.rev&#39;
public and secret key created and signed.</p>

<p>pub   rsa4096 2021-04-07 [SC]
      4E83F95221E92EDB933F155AC8E4854970B7A1A3
uid                      Foo Bar <a href="mailto:foo@bar.com">foo@bar.com</a>
sub   rsa4096 2021-04-07 [E]
<code></code>`</p>

<p>You could stop here and use this key, but let&#39;s instead create some subkeys under that key, to make our lives a bit easier. Take the fingerprint of the key (that large number in the output) and run <code>gpg --edit-key --expert &lt;your fingerprint&gt;</code>. Run <code>addkey</code> three times to add these three keys:</p>

<h2>Signing key</h2>

<p>This key will be used to sign your work (git commits, tags, etc.).</p>

<p><code>
gpg&gt; addkey
</code></p>

<ol><li>Choose option &quot;RSA (set your own capabilities)&quot;, which is currently number 8.</li><li>Toggle E (Encryption) so the &quot;Current allowed actions&quot; only lists Sign and confirm with Q.</li><li>Choose the keysize 2048 (or whatever you prefer).</li><li>Choose the key expire date 1y (or whatever you prefer).</li><li>Confirm twice, then enter your passphrase.</li></ol>

<h2>Encryption key</h2>

<p>This key will be used to encrypt and decrypt messages.</p>

<p><code>
gpg&gt; addkey
</code></p>

<ol><li>Choose option &quot;RSA (set your own capabilities)&quot;, which is currently number 8.</li><li>Toggle S (Sign) so the &quot;Current allowed actions&quot; only lists Encryption and confirm with Q.</li><li>Choose the keysize 2048 (or whatever you prefer).</li><li>Choose the key expire date 1y (or whatever you prefer).</li><li>Confirm twice, then enter your passphrase.</li></ol>

<h2>Authentication key</h2>

<p>This key will be used for SSH authentication.</p>

<p><code>
gpg&gt; addkey
</code></p>

<ol><li>Choose option &quot;RSA (set your own capabilities)&quot;, which is currently number 8.</li><li>Toggle S (Signing), E (Encryption) and A (Authentication) so the &quot;Current allowed actions&quot; only lists Authenticate and confirm with Q.</li><li>Choose the keysize 2048 (or whatever you prefer).</li><li>Choose the key expire date 1y (or whatever you prefer).</li><li>Confirm twice, then enter your passphrase.</li></ol>

<p>Now you should have one key per use case: signing, encrypting and authentication, each with an expiration date:</p>

<p><code>
sec  rsa4096/C8E4854970B7A1A3
     created: 2021-04-07  expires: never       usage: SC
     trust: ultimate      validity: ultimate
ssb  rsa4096/C5F71423813B40A0
     created: 2021-04-07  expires: never       usage: E
ssb  rsa2048/52D4D1D19533D8A5
     created: 2021-04-07  expires: 2022-04-07  usage: S
ssb  rsa2048/072D841844E3F949
     created: 2021-04-07  expires: 2022-04-07  usage: E
ssb  rsa2048/42E4F6E376DD92F6
     created: 2021-04-07  expires: 2022-04-07  usage: A
[ultimate] (1). Foo Bar &lt;foo@bar.com&gt;
</code></p>

<p>Save your key, and optionally upload it to one of the many keyservers:</p>

<p><code></code>`
gpg&gt; save</p>

<p>$ gpg --keyserver keys.openpgp.org  --send-keys foo@bar.com
<code></code>`</p>

<p><strong>Pro tip</strong>: To set a default keyserver (I use <code>keys.opengpg.org</code>, but there are many others out there!), simply add it in your <code>~/.gnupg/gpg.conf</code> file:</p>

<p><code>
keyserver keys.openpgp.org
</code></p>

<p>People can now import your public key via <code>gpg --keyserver keys.opengpg.org --search-keys foo@bar.com</code>.</p>

<p>We&#39;re done with the setup, let&#39;s put our keys to use!</p>

<h2>Code Signing</h2>

<p>To sign your code, you will have to tell git which key to use. Edit your global git options (<code>~/.gitconfig</code>) and add these fields:</p>

<p><code>
[commit]
	gpgsign = true
[tag]
	gpgsign = true
[user]
    name = Foo Bar
	signingkey = 52D4D1D19533D8A5      # Use the ID of your signing key
	email = foo@bar.com
</code></p>

<p>Now, whenever you add a commit, git will sign it with your key. You will have to let your git hosting provider know that this key is yours. Go to your account settings and look for a tab that says &quot;Manage (GPG) keys&quot;. Where this tab is depends on your choice of service. Next, run <code>gpg --export --armor &lt;your master key id&gt;</code> and copy the resulting key into the input field of your git hosting service.</p>

<p>Whenever you push a commit, its signature will be checked against that of your account. And that&#39;s all the magic!</p>

<p><img alt="A signed commit" src="/assets/signed_commit.png"/></p>

<h2>Encrypting messages</h2>

<p>In order to send an encrypted message to someone, you will need his public key. There are numerous ways to obtain a public key of someone. The simplest way is to ask the person for the raw key. If it&#39;s in a text file, you can import it like so:</p>

<p><code>
cat some_key.txt | gpg --import
</code></p>

<p>Oftentimes, people will store their keys on a keyserver, just like you have probably done it. To import someones key, simply search for it on a keyserver. I&#39;ll use my key here as an example.</p>

<p><code>
gpg --keyserver keys.openpgp.org  --search-keys garrit@slashdev.space
</code></p>

<p>Now, your computer should know about my key. To verify that it&#39;s actually me you have imported, you can check if the output of <code>gpg --fingerprint garrit@slashdev.space</code> matches my actual fingerprint: <code>2218 337E 54AA 1DBE 207B 404D BB54 AF7E B093 9F3D</code>.</p>

<p>Optionally, if you trust that the key is actually associated to me, you can sign it. This let&#39;s other people know that you trust me, which helps build a so called &quot;chain of trust&quot;. A key which has been signed by many people is generally more trustworthy than one that has no signatures.</p>

<p><code>
gpg --sign-key garrit@slashdev.space
</code></p>

<p>Now, let&#39;s encrypt a message that only I will be able to read:</p>

<p><code>
printf &quot;If you can read this, you&#39;ve successfully decrypted this message&quot; | gpg --encrypt --sign --armor -r garrit@slashdev.space
</code></p>

<p>Feel free to send this message to my email-address, I&#39;m happy to chat with you!</p>

<p>Decrypting something is as easy as encrypting something. Say the encrypted message lives in <code>message.txt.asc</code>. If you are the recipient, all you have to do is to run <code>gpg --decrypt message.txt.asc</code>.</p>

<h2>SSH</h2>

<p>Your PGP key can also be used as an SSH key to authenticate on your servers.</p>

<p>First we need to add the following to <code>~/.gnupg/gpg-agent.conf</code> to enable SSH support in gpg-agent.</p>

<p><code>
enable-ssh-support
</code></p>

<p>Next, we&#39;ll need to tell gpg which key to use. We need to get the so called <code>keygrip</code> of your authentication key and add it to the <code>~/.gnupg/sshcontrol</code>. The keygrip can be obtained by running <code>gpg -K --with-keygrip</code>. Just copy the keygrip of the authentication key and paste it into the <code>~/.gnupg/sshcontrol</code> file.</p>

<p>Then, we want the ssh agent to know where to look for the key. Put this in your <code>.bashrc</code> file (or corresponding config):</p>

<p><code>
export GPG_TTY=$(tty)
export SSH_AUTH_SOCK=$(gpgconf --list-dirs agent-ssh-socket)
gpgconf --launch gpg-agent
</code></p>

<p>Then, run <code>ssh-add -l</code> to load the key directly.</p>

<p>To get the public ssh key of your keypair, run this command:</p>

<p><code>
gpg --export-ssh-key foo@bar.com
</code></p>

<p>and add the output to the <code>~/.ssh/authorized_keys</code> file on your server. When signing in, you should be prompted to enter the passphrase of your key and then authenticated.</p>

<h2>Closing thoughts</h2>

<p>I hope by now you see the benefits you gain from having a PGP keypair. Whether you find it useful enough to set one up is of course up to you. It is however a good practice to at least sign your git commits as a proof of identity. There are services like <a href="https://keyoxide.org">Keyoxide</a> that let you keep a &quot;public record&quot; of your key, so that other people can verify your identity more easily. If you set up your key, let me know by sending an encrypted message!</p>

<p>This is post 016 of <a href="https://100daystooffload.com/">#100DaysToOffload</a>.</p>]]>
            </description>
        </item>
        <item>
            <title>
                I closed my Facebook account, and you should too
            </title>
            <guid>
                https://garrit.xyz/posts/2021-01-07-delete-facebook
            </guid>
            <link>
                https://garrit.xyz/posts/2021-01-07-delete-facebook?utm_source=rss
            </link>
            <pubDate>
                Thu, 07 Jan 2021 00:00:00 +0000
            </pubDate>
            <description>
                <![CDATA[<p>I know I should have done this a while ago, but with ever-increasing scandals about data privacy surrounding Facebook, I finally decided to get rid of it.</p>

<p>I haven&#39;t used the service in a long time anyway, but I always told myself &quot;what if I needed the data later?&quot;, or &quot;what if a friend contacted me, and I didn&#39;t respond?&quot;, &quot;what if I missed the birthday of someone I&#39;m close with?!&quot;. Well, according to my facebook inbox, the only messages I received lately were some random links from people I&#39;m not really in touch with anymore. Birthdays? Do you think someone you haven&#39;t talked to in over three years will get mad at you, for forgetting their birthday? And regarding your data: you won&#39;t loose it! <a href="https://www.facebook.com/help/212802592074644">This guide</a> describes how you can download a copy of your data as html and/or json.</p>

<p>Go ahead and ask yourself: Is there anything holding you back from deleting your Facebook account? What would you loose? How often do you even use the service? Do the social benefits of Facebook <strong>really</strong> outweigh the negative aspects (privacy concerns, data collection, etc.)?</p>]]>
            </description>
        </item>
        <item>
            <title>
                Whom do you trust?
            </title>
            <guid>
                https://garrit.xyz/posts/whom-do-you-trust
            </guid>
            <link>
                https://garrit.xyz/posts/whom-do-you-trust?utm_source=rss
            </link>
            <pubDate>
                Tue, 17 Mar 2020 00:00:00 +0000
            </pubDate>
            <description>
                <![CDATA[<p>Nowadays, password managers are a necessity if you care even the slightest about your personal belongings on the interwebs. But think about it, do you really want to trust another company to store your most sensitive information?</p>

<p><img alt="" src="https://images.unsplash.com/photo-1522251670181-320150ad6dab?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=2566&amp;q=80"/></p>

<h5>TL;DR</h5>

<p>Use a <strong>stateless</strong> password manager like <a href="https://lesspass.com/">LessPass</a> to access your password without relying on a third party to store your data.</p>

<h2>Why use a password manager in the first place?</h2>

<p>Having a single password for multiple accounts is convenient. What&#39;s also convenient, is <strong>using</strong> this password on multiple accounts once you have access to a single one. What might be convenient to you, might also be convenient to others. Many people, <a href="https://web.archive.org/web/20170225163642/http://uk.businessinsider.com/twitter-says-it-wasnt-hacked-passwords-reused-older-hacks-malware-to-blame-2016-6">especially celebrities</a>, fall victim to this trap of comfort.</p>

<p>To counteract this, people are (and should be) using different passwords for different accounts. These passwords differ in a single letter or digit (Twitter: <code>porridge4president</code>, GitHub: <code>poridge5president</code>, etc.), or they don&#39;t match at all (Twitter: <code>porridge4president</code>, GitHub: <code>YouWontGuessThisOne</code>).</p>

<p>The problem that most likely arises from this technique is called <em>password chaos</em> (<a href="https://encyclopedia2.thefreedictionary.com/password+chaos">Source</a>):</p>

<blockquote><p><em>&quot;The confusion that arises when users have many unique passwords.&quot;</em></p></blockquote>

<p>The aim of a password manager is <a href="https://www.businessinsider.com/how-to-use-password-manager-store-protect-yourself-hackers-lastpass-1password-dashlane-2017-2?r=DE&amp;IR=T">to solve this problem by storing all of your passwords in a single place and securing it with an <em>ultra secure superpassword!</em> (©)</a>. This way, you can use arbitrary passwords - preferebly gibberish that doesn&#39;t make sense to humans (nor machines) - without losing them, as long as you have your <em>ultra secure superpassword!</em> (©) - aka your masterpassword. The benefits are obvious: You get rid of the password chaos problem while staying relatively secure. Eventhough password managers are quite benificial, some people (including myself) see a catch in them.</p>

<h2>Relying on a third party</h2>

<p>Relying on third party companies doesn&#39;t seem like a big deal. After all, you are probably using some form of cloud service to host your photos. Yet there&#39;s a lot of trust involved in letting others handle your private data, especially your passwords. In 2017, <a href="https://www.zdnet.com/article/onelogin-hit-by-data-breached-exposing-sensitive-customer-data/">a major password manager got hacked, exposing sensitive data including users and their passwords</a>. This shows the potential for security breaches in an application that inherently seemed safe. But what if I told you that there is an alternative to this? A password manager that does not store your data at all?</p>

<h2>A Stateless password manager</h2>

<p>Recently, I stumbled across <a href="https://lesspass.com/#/">LessPass</a>. LessPass is a password manager that is very different from what I have seen so far. Instead of storing passwords that either you or a random password generator came up with, it computes passwords on the fly, given a website, username, your masterpassword and some options.</p>

<p><img alt="LessPass" src="../assets/lesspass.gif"/></p>

<p>The key here is that LessPass uses a <strong>pure function</strong>, i.e. a function that given the same parameters will always give the same result. Using this technique, there&#39;s no need to store your password in a database owned by a large company, nor do you have to sync your passwords between your devices (<a href="https://play.google.com/store/apps/details?id=com.lesspass.android&amp;hl=de">but there&#39;s an app</a>). The computation happens right on your machine, and <strong>only</strong> on your machine. If you want to find out more about how it works under the hood, you can check out <a href="https://blog.lesspass.com/lesspass-how-it-works-dde742dd18a4#.vbgschksh">the authors blog post</a>. He goes into great detail on what alorithm is used to compute your passwords and how to utilize every feature of LessPass.</p>

<h2>Conclusion</h2>

<p>Being a little privacy nerd myself, I often think twice about what services I want to use, often even looking into self-hosted alternatives to major products. There are multiple products that offer self hosted solutions to store your passwords, however I also don&#39;t even trust <em>myself</em> with such sensitive data either. LessPass eliminates the need to have a third party watch over your data, let alone to store it on their servers.</p>]]>
            </description>
        </item>
    </channel>
</rss>