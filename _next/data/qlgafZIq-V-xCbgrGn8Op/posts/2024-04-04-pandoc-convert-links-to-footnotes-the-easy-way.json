{"pageProps":{"post":{"slug":"2024-04-04-pandoc-convert-links-to-footnotes-the-easy-way","markdownBody":"\nPandoc has [a feature](https://pandoc.org/MANUAL.html#links) to covert links to footnotes. Unfortunately, this only applies to LaTeX documents. Since I want to stay away from LaTeX for reasons of bloat, I was looking for a more universal approach.\r\n\r\nFirst, I encountered [this](https://stackoverflow.com/questions/33900067/pandoc-filter-to-add-footnotes-to-links) thread suggesting to use a regular [Pandoc filter](https://pandoc.org/filters.html). This has one downside though: you need a Haskell toolchain on your system. So I moved on ... \r\n\r\nI eventually stumbled across [this](https://github.com/jgm/pandoc/discussions/9415) thread, explaining how to do the same thing but with a Lua filter instead of Haskell. Since Lua is embedded into Pandoc, you don't need to install anything. Hooray for embeddable languages!\r\n\r\nSimply place the following snippet into file (`/filters/link-to-footnote.lua` for example):\r\n\r\n```lua\r\nfunction Link(link)\r\n    link.content:insert(pandoc.Note(link.target))\r\n    return link.content\r\nend\r\n```\r\n\r\n> *Note*: If you want to keep the original hyperlink in tact, replace the `return link.content` with `return link`.\r\n\r\nAnd add the following flag to your Pandoc build command:\r\n\r\n```sh\r\n#!/bin/sh\r\npandoc text.md\r\n    -o book.epub \\\r\n    --lua-filter=filters/link-to-footnote.lua \\ # <-- This one\r\n    --metadata-file metadata.yaml \\\r\n    --standalone \\\r\n    # ...\r\n```\r\n\r\nAfter compiling the document, you should now see that each link has a footnote with the link text.\n","frontmatter":{"title":"Pandoc: Convert links to footnotes (the easy way)","date":"2024-04-04","tags":"guide, note, writing, til, tech, programming, pandoc"},"tags":["guide","note","writing","til","tech","programming","pandoc"]},"recommendedPosts":[{"slug":"2024-05-24-going-from-self-hosted-to-managed-software","frontmatter":{"title":"Going from self hosted to managed software","date":"2024-05-24","tags":"infrastructure, note, learnings, opinion, homelab, tech"},"tags":["infrastructure","note","learnings","opinion","homelab","tech"]},{"slug":"2024-04-15-beware-of-base64-encoded-strings","frontmatter":{"title":"Beware of base64 encoded strings","date":"2024-04-15","tags":"guide, note, learnings, web, til, tech, programming"},"tags":["guide","note","learnings","web","til","tech","programming"]},{"slug":"2024-04-11-a-simple-search-bar","frontmatter":{"title":"A simple search bar","date":"2024-04-11","tags":"guide, note, meta, web, tech, programming"},"tags":["guide","note","meta","web","tech","programming"]},{"slug":"2024-04-07-five-years-of-blogging","frontmatter":{"title":"Five Years of Blogging","date":"2024-04-07","tags":"note, books, writing, meta"},"tags":["note","books","writing","meta"]},{"slug":"2024-04-02-fuck-trees-use-tags","frontmatter":{"title":"Fuck trees, use tags","date":"2024-04-02","tags":"note, opinion, tech"},"tags":["note","opinion","tech"]}]},"__N_SSG":true}