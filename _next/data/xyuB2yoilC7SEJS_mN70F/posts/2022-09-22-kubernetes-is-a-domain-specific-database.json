{"pageProps":{"post":{"slug":"2022-09-22-kubernetes-is-a-domain-specific-database","markdownBody":"\nI just finished listening to [an\nepisode](https://kubernetespodcast.com/episode/129-linkerd/) of the Kubernetes\npodcast. In it, [Thomas Rampelberg](https://saunter.org/) makes an analogy that\nI think is worth sharing:\n\n> \"[...] Kubernetes is really a domain-specific database. And you need to look at it\n> that way. The YAML is literally writing a select statement or an insert\n> statement for a database. That's what the YAML is. And it's awesome that it is\n> already configured for how it is. And it's awesome that it's got a schema. But\n> the YAML is you writing an insert statement into Kubernetes. [...]\"\n\nThe Kubernetes API abstracts two types of states: desired state and actual\nstate. Whenever you apply a manifest, you update the _desired state_ of the\ncluster, just like you do in a regular, non domain-specific database like\nPostgreSQL or Redis. Kubernetes then frequently compares the desired state with\nthe _actual_ state of the cluster. If they don't match, Kubernetes will do\nwhatever it does to match these two states. Usually, this data is persisted\nusing a key-value database like [etcd](https://etcd.io/) running in a cluster,\nthough one could theoretically also hook up an external MySQL or Postgres\ndatabase for this purpose.\n\nI found this great diagram by [Tim\nDowney](https://downey.io/blog/desired-state-vs-actual-state-in-kubernetes/),\nshowing an oversimplified analogy of this pattern:\n\n![Thermostat\nExample](/assets/posts/2022-09-22-kubernetes-is-a-domain-specific-database/desired-state-hvac-diagram.png)\n\nYou _insert_ your desired state into the system, and the system adjusts the\nactual state to match the desired state. In the case of thermostats the state is\na temperature. In Kubernetes, it's [resource\nobjects](https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/)\n\nThis is post 037 of [#100DaysToOffload](https://100daystooffload.com/).\n","frontmatter":{"title":"Kubernetes is a domain specific database","date":"2022-09-22","tags":"note, 100DaysToOffload, infrastructure, kubernetes, tech"},"tags":["note","100DaysToOffload","infrastructure","kubernetes","tech"]},"recommendedPosts":[{"slug":"2024-04-04-pandoc-convert-links-to-footnotes-the-easy-way","frontmatter":{"title":"Pandoc: Convert links to footnotes (the easy way)","date":"2024-04-04","tags":"guide, note, writing, til, tech, programming, pandoc"},"tags":["guide","note","writing","til","tech","programming","pandoc"]},{"slug":"2024-04-02-fuck-trees-use-tags","frontmatter":{"title":"Fuck trees, use tags","date":"2024-04-02","tags":"note, opinion, tech"},"tags":["note","opinion","tech"]},{"slug":"2024-01-18-cost-per-request","frontmatter":{"title":"Cost per Request","date":"2024-01-18","tags":"infrastructure, aws, note, opinion, devops, tech"},"tags":["infrastructure","aws","note","opinion","devops","tech"]},{"slug":"2024-01-06-a-better-publishing-workflow-for-static-blogs","frontmatter":{"title":"A better publishing workflow for static blogs","date":"2024-01-06","tags":"guide, note, meta, writing, web, github, tech"},"tags":["guide","note","meta","writing","web","github","tech"]},{"slug":"2024-01-05-greg-the-developer","frontmatter":{"title":"Greg, the Developer","date":"2024-01-05","tags":"note, tech, fun, shortstory, writing, programming, practices, devops"},"tags":["note","tech","fun","shortstory","writing","programming","practices","devops"]}]},"__N_SSG":true}