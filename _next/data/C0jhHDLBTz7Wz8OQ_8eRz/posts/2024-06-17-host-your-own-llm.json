{"pageProps":{"post":{"slug":"2024-06-17-host-your-own-llm","markdownBody":"\nI'm currently dipping my toes into Large Language Models (LLMs, or \"AI\") and what you can do with them. It's a fascinating topic, so expect some more posts on this in the coming days and weeks.\r\n\r\nFor starters, I wanted to document how I got my first LLM running on my local machine (a 2022 MacBook Pro). [Ollama](https://ollama.com/) makes this process super easy. You just install it (`brew install ollama` in my case) and then run the model:\r\n\r\n```\r\nollama run llama3\r\n```\r\n\r\nThis will download the model and open a prompt, so you can start chatting right away!\r\n\r\nYou can think of Ollama as the [Docker](https://www.docker.com/) CLI but for LLMs. There's a [directory of LLMs](https://ollama.com/library), and if a model has multiple different sizes, you can use it like you would pull a different docker tag:\r\n\r\n```\r\nollama pull llama3:8b\r\nollama pull llama3:70b\r\n```\r\n\r\nThe best thing about ollama is that it also exposes a web server for you to integrate the LLM into your application. As an example, here's how you would curl your local LLM:\r\n\r\n```\r\ncurl http://localhost:11434/api/chat -d '{\r\n    \"model\": \"llama3\",      \r\n    \"messages\": [{ \"role\": \"user\", \"content\": \"Are you a robot?\" }],\r\n    \"stream\": false\r\n}'\r\n{\"model\":\"llama3\",\"created_at\":\"2024-06-17T11:19:23.510588Z\",\"message\":{\"role\":\"assistant\",\"content\":\"I am not a human, but I'm also not a traditional robot. I'm an artificial intelligence language model designed to simulate conversation and answer questions to the best of my ability. My \\\"brain\\\" is a complex algorithm that processes natural language inputs and generates responses based on patterns and associations learned from large datasets.\\n\\nWhile I don't have a physical body or consciousness like humans do, I'm designed to interact with humans in a way that feels natural and conversational. I can understand and respond to questions, make suggestions, and even tell jokes (though my humor may be a bit... algorithmic).\\n\\nSo, while I'm not a human or a traditional robot, I exist at the intersection of technology and language, designed to assist and communicate with humans in a helpful way!\"},\"done_reason\":\"stop\",\"done\":true,\"total_duration\":12565842250,\"load_duration\":7059262291,\"prompt_eval_count\":15,\"prompt_eval_duration\":331275000,\"eval_count\":156,\"eval_duration\":5172858000}\r\n```\r\n\r\nIf your local machine is not beefy enough and you want to try out a large LLM on a rented server (AWS has `g5.2xlarge`, which gave me good results for `mixtral 8x7b`), you also have to set `OLLAMA_HOST=0.0.0.0` in your environment variables to be able to reach the remote server. **This exposes the LLM to the public internet, so be careful when chosing your deployment strategy.**\r\n\r\nAnd there you go! You just deployed your very own LLM. Pretty cool, huh?\n","frontmatter":{"title":"Host your own LLM","date":"2024-06-17","tags":"infrastructure, guide, note, homelab, tech, llm, ai"},"tags":["infrastructure","guide","note","homelab","tech","llm","ai"]},"recommendedPosts":[{"slug":"2024-06-27-testing-smtp-connections","frontmatter":{"title":"Testing SMTP connections","date":"2024-06-27","tags":"infrastructure, guide, note, learnings, tech"},"tags":["infrastructure","guide","note","learnings","tech"]},{"slug":"2024-06-03-i-just-cleaned-up-40-gb-of-brew-caches","frontmatter":{"title":"I just cleaned up 40 GB of Brew caches","date":"2024-06-03","tags":"guide, note, tech"},"tags":["guide","note","tech"]},{"slug":"2024-05-24-going-from-self-hosted-to-managed-software","frontmatter":{"title":"Going from self hosted to managed software","date":"2024-05-24","tags":"infrastructure, note, learnings, opinion, homelab, tech"},"tags":["infrastructure","note","learnings","opinion","homelab","tech"]},{"slug":"2024-04-15-beware-of-base64-encoded-strings","frontmatter":{"title":"Beware of base64 encoded strings","date":"2024-04-15","tags":"guide, note, learnings, web, til, tech, programming"},"tags":["guide","note","learnings","web","til","tech","programming"]},{"slug":"2024-04-11-a-simple-search-bar","frontmatter":{"title":"A simple search bar","date":"2024-04-11","tags":"guide, note, meta, web, tech, programming"},"tags":["guide","note","meta","web","tech","programming"]}]},"__N_SSG":true}