<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width, initial-scale=1"/><meta charSet="utf-8"/><title>Garrit Franke</title><meta name="Description" content="Generalist developer writing about fullstack development, system administration and free software."/><link rel="icon" type="image/svg+xml" href="/favicon.svg"/><link rel="webmention" href="https://webmention.io/garrit.xyz/webmention"/><link rel="pingback" href="https://webmention.io/garrit.xyz/xmlrpc"/><link href="https://cdn.jsdelivr.net/npm/shareon@2/dist/shareon.min.css" rel="stylesheet"/><meta name="next-head-count" content="8"/><link rel="preload" href="/_next/static/css/b5b5c17d6a7c0345.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b5b5c17d6a7c0345.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee7e63bc15b31913.js" defer=""></script><script src="/_next/static/chunks/framework-2c79e2a64abdb08b.js" defer=""></script><script src="/_next/static/chunks/main-7477d36a73a3487c.js" defer=""></script><script src="/_next/static/chunks/pages/_app-72a7c2f5e44704ad.js" defer=""></script><script src="/_next/static/chunks/658-b09a7bad2e31500b.js" defer=""></script><script src="/_next/static/chunks/664-8af8765c6fed5950.js" defer=""></script><script src="/_next/static/chunks/pages/index-d313f0e344647783.js" defer=""></script><script src="/_next/static/TjQVosWaLfrLOfMIJjDdr/_buildManifest.js" defer=""></script><script src="/_next/static/TjQVosWaLfrLOfMIJjDdr/_ssgManifest.js" defer=""></script></head><body><div id="__next"><section class="layout"><header class="header"><nav class="nav" role="navigation" aria-label="main navigation"><div class="header__container"><a href="/" class="header__container__logo underlined">Garrit Franke</a></div><ul class="header__links"><li><a href="/posts" class="underlined">Blog</a></li><li><a href="/contact" class="underlined">Contact</a></li><li><a href="/cv" class="underlined">Resume</a></li></ul></nav></header><div class="content"><article class="page h-entry"><div class="page__body e-content"><h1 id="i&#x27;m-garrit,-a-generalist-software-developer." level="1">I&#x27;m Garrit, a generalist software developer.</h1>
<p>My interests include...</p>
<ul>
<li>Fullstack Development</li>
<li>System Administration</li>
<li>Programming Language Design</li>
<li>Minimalist Software</li>
<li>Free Software</li>
</ul>
<p>â€ƒ</p>
<p>On my <a href="/posts">blog</a>, I ramble about software and tech-related topics. Check
out my <a href="/todo">todos</a> if you need inspiration for your next project.</p>
<p>I&#x27;m always up for a chat. Feel free to <a href="/contact">reach out</a>, or leave a note in
my <a href="/guestbook">guestbook</a>!</p>
<p>Pssst! Can you find all <a href="/ctf">hidden flags</a> on this page?</p>
<h2 id="projects" level="2">Projects</h2>
<p><strong><a href="https://seeking-maintainers.net/">seeking-maintainers.net</a></strong></p>
<p>An index of open source projects seeking new maintainers.</p>
<p><strong><a href="https://darktheme.club/">darktheme.club</a></strong></p>
<p>The Darktheme Club is a collection of accessible web pages from across the Internet.</p>
<p><strong><a href="https://github.com/garritfra/qbe-rs">qbe-rs</a></strong></p>
<p>A Rust crate that seeks to provide a Rust-y representation of QBE IR. It can be
used by compilers for code generation.</p>
<p><strong><a href="https://github.com/antimony-lang/antimony">Antimony Programming language</a></strong></p>
<p>A bullshit-free programming language that compiles to JavaScript.</p><h2>Recent posts</h2><div><div class="blog__list__post"><time class="blog__list__post__date">Mar 16 2023</time><br/><a href="/posts/2023-03-16-terraform-project-learnings">Terraform project learnings</a></div><div class="blog__list__post"><time class="blog__list__post__date">Mar 11 2023</time><br/><a href="/posts/2023-03-11-a-software-requirements-checklist">A software requirements checklist</a></div><div class="blog__list__post"><time class="blog__list__post__date">Mar 10 2023</time><br/><a href="/posts/2023-03-10-debugging-ecs-tasks">Debugging ECS Tasks</a></div><div class="blog__list__post"><time class="blog__list__post__date">Mar 08 2023</time><br/><a href="/posts/2023-03-08-terraform-and-kubernetes-are-fundamentally-different">The fundamental difference between Terraform and Kubernetes</a></div><div class="blog__list__post"><time class="blog__list__post__date">Mar 04 2023</time><br/><a href="/posts/2023-03-04-pods-vs.-containers">Pods vs. Containers</a></div></div></div></article></div><footer class="footer"><div class="footer__content"><h3>Links of Interest</h3><a href="/rss.xml">RSS Feed</a><br/><a href="/todo">Todo List</a><br/><a href="https://keyoxide.org/hkp/garrit@slashdev.space">PGP Key</a><br/><a href="/guestbook">Guestbook</a><br/><a href="/blogroll">Blogroll</a><br/><a href="/ctf">Capture the Flag</a><h3>Elsewhere</h3><a href="https://github.com/garritfra" rel="me">Github</a><br/><a href="https://www.linkedin.com/in/garritfranke/">LinkedIn</a><br/><a href="https://fosstodon.org/@garritfra">Mastodon (ActivityPub)</a><br/><a href="/contact">Contact</a></div><p>ðŸ‘»Â Proud member of <a target="_blank" href="https://darktheme.club/">darktheme.club</a> <!-- -->ðŸ‘»</p><p>Â© 2018-<!-- -->2023<!-- --> Garrit Franke<br/><a href="/privacy">Privacy</a> |<!-- --> <a target="_blank" href="https://github.com/garritfra/garrit.xyz">Source Code</a></p></footer></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"markdownBody":"# I'm Garrit, a generalist software developer.\n\nMy interests include...\n\n- Fullstack Development\n- System Administration\n- Programming Language Design\n- Minimalist Software\n- Free Software\n\n\u0026emsp;\n\nOn my [blog](/posts), I ramble about software and tech-related topics. Check\nout my [todos](/todo) if you need inspiration for your next project.\n\nI'm always up for a chat. Feel free to [reach out](/contact), or leave a note in\nmy [guestbook](/guestbook)!\n\nPssst! Can you find all [hidden flags](/ctf) on this page?\n\n## Projects\n\n**[seeking-maintainers.net](https://seeking-maintainers.net/)**\n\nAn index of open source projects seeking new maintainers.\n\n**[darktheme.club](https://darktheme.club/)**\n\nThe Darktheme Club is a collection of accessible web pages from across the Internet.\n\n**[qbe-rs](https://github.com/garritfra/qbe-rs)**\n\nA Rust crate that seeks to provide a Rust-y representation of QBE IR. It can be\nused by compilers for code generation.\n\n**[Antimony Programming language](https://github.com/antimony-lang/antimony)**\n\nA bullshit-free programming language that compiles to JavaScript.\n","recentPosts":[{"slug":"2023-03-16-terraform-project-learnings","markdownBody":"\r\nI just finished my first ever infrastructure project for a client. My Terraform skills are good enough to be dangerous, but during the development of this project I learned a lot that I would do differently next time.\r\n\r\n## Project structure\r\n\r\nHaving worked with semi-professional Terraform code before, I applied what I knew to my new project. That was mainly that we have a shared base and an overlay directory for each environment. I went with a single Terraform module for the shared infrastructure, and variables for each environment. Naively, roughly every service had their own file.\r\n\r\n```\r\n.\r\nâ”œâ”€â”€ modules\r\nâ”‚Â Â  â””â”€â”€ infrastructure\r\nâ”‚Â Â      â”œâ”€â”€ alb.tf\r\nâ”‚Â Â      â”œâ”€â”€ cache.tf\r\nâ”‚Â Â      â”œâ”€â”€ database.tf\r\nâ”‚Â Â      â”œâ”€â”€ dns.tf\r\nâ”‚Â Â      â”œâ”€â”€ ecr.tf\r\nâ”‚Â Â      â”œâ”€â”€ ecs.tf\r\nâ”‚Â Â      â”œâ”€â”€ iam.tf\r\nâ”‚Â Â      â”œâ”€â”€ logs.tf\r\nâ”‚Â Â      â”œâ”€â”€ main.tf\r\nâ”‚Â Â      â”œâ”€â”€ network.tf\r\nâ”‚Â Â      â”œâ”€â”€ secrets.tf\r\nâ”‚Â Â      â”œâ”€â”€ security.tf\r\nâ”‚Â Â      â”œâ”€â”€ ssl.tf\r\nâ”‚Â Â      â”œâ”€â”€ state.tf\r\nâ”‚Â Â      â””â”€â”€ variables.tf\r\nâ”œâ”€â”€ production\r\nâ”‚Â Â  â”œâ”€â”€ main.tf\r\nâ”‚Â Â  â””â”€â”€ secrets.tf\r\nâ””â”€â”€ staging\r\n    â”œâ”€â”€ main.tf\r\n    â””â”€â”€ secrets.tf\r\n```\r\n\r\nThis works very well, but I already started running into issues extending this setup. For my next project, I would probably find individual components and turn them into smaller reusable submodules. If I were to rewrite the project above, I would probably structure it like this (not a complete project, but I think you get the idea):\r\n\r\n```\r\n.\r\nâ”œâ”€â”€ modules\r\nâ”‚Â Â  â””â”€â”€ infrastructure\r\nâ”‚Â Â      â”œâ”€â”€ main.tf\r\nâ”‚Â Â      â”œâ”€â”€ modules\r\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ database\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â”œâ”€â”€ iam.tf\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â”œâ”€â”€ logs.tf\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â”œâ”€â”€ main.tf\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â”œâ”€â”€ outputs.tf\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â”œâ”€â”€ rds.tf\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â””â”€â”€ variables.tf\r\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ loadbalancer\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â”œâ”€â”€ alb.tf\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â”œâ”€â”€ logs.tf\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â”œâ”€â”€ main.tf\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â”œâ”€â”€ outputs.tf\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â””â”€â”€ variables.tf\r\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ network\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â”œâ”€â”€ dns.tf\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â”œâ”€â”€ logs.tf\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â”œâ”€â”€ main.tf\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â”œâ”€â”€ outputs.tf\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ssl.tf\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â”œâ”€â”€ variables.tf\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â””â”€â”€ vpc.tf\r\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ service\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ecr.tf\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ecs.tf\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â”œâ”€â”€ iam.tf\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â”œâ”€â”€ logs.tf\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â”œâ”€â”€ main.tf\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â”œâ”€â”€ outputs.tf\r\nâ”‚Â Â      â”‚Â Â  â”‚Â Â  â””â”€â”€ variables.tf\r\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ state\r\nâ”‚Â Â      â”‚Â Â      â”œâ”€â”€ locks.tf\r\nâ”‚Â Â      â”‚Â Â      â”œâ”€â”€ main.tf\r\nâ”‚Â Â      â”‚Â Â      â”œâ”€â”€ outputs.tf\r\nâ”‚Â Â      â”‚Â Â      â”œâ”€â”€ s3.tf\r\nâ”‚Â Â      â”‚Â Â      â””â”€â”€ variables.tf\r\nâ”‚Â Â      â”œâ”€â”€ main.tf\r\nâ”‚Â Â      â”œâ”€â”€ outputs.tf\r\nâ”‚Â Â      â””â”€â”€ variables.tf\r\nâ”œâ”€â”€ production\r\nâ”‚Â Â  â”œâ”€â”€ main.tf\r\nâ”‚Â Â  â””â”€â”€ secrets.tf\r\nâ””â”€â”€ staging\r\n    â”œâ”€â”€ main.tf\r\n    â””â”€â”€ secrets.tf\r\n```\r\n\r\n## Secrets\r\n\r\nI decided to use [git-crypt](https://github.com/AGWA/git-crypt) to manage secrets, but that was only before I learned about [SOPS](https://github.com/mozilla/sops). It's too late to migrate now, but if I could, I would choose SOPS for secrets any day of the week for upcoming projects. It even has a [Terraform provider](https://registry.terraform.io/providers/carlpett/sops/latest/docs), so there's no excuse not to use it. ;)\r\n\r\n## Conclusion\r\n\r\nOverall I'm pretty happy with how the project turned out, but there are some things that I learned during this project that will pay off later.\r\n\r\n---\r\n\r\nThis is post 057 of [#100DaysToOffload](https://100daystooffload.com/).\r\n","frontmatter":{"title":"Terraform project learnings","date":"2023-03-16","tags":"100DaysToOffload, infrastructure, aws, note, terraform, learnings"},"tags":["100DaysToOffload","infrastructure","aws","note","terraform","learnings"]},{"slug":"2023-03-11-a-software-requirements-checklist","markdownBody":"\r\nI just found a [great post](https://www.etsy.com/codeascraft/a-checklist-manifetsy) on the Etsy Engineering blog suggesting a possible checklist for new product requirements. In reality, this checklist is very hard to fulfill, but it's a nice reminder of what a well thought out requirement could look like.\r\n\r\n### Scope\r\n\r\n- Is the feature meant to be very polished and finished or are we just trying to get user feedback as an MVP?\r\n- If we are running a MVP, is the current feature a true MVP? How can we simplify or cut scope?\r\n\r\n### Eligibility\r\n\r\n- What populations should be included or excluded from the experiment? When should users see this feature? (Which pages, signed in/signed out, mobile, desktop, etc.)\r\nWhere/when should bucketing occur?\r\n- Will the experiment conflict with any other experiments? Do the experiments need to run exclusively?\r\n- What countries should the experiment run in (can impact translations)?\r\n\r\n### A11Y\r\n\r\n- Is there any special accessibility work this feature will require? If extra work is anticipated, check in early with our a11y team.\r\n- When testing and developing we should keep two users in mind - a keyboard user and a voice over user, do we need to add other code for these users?\r\n\r\n### Translations\r\n\r\n- Are there any strings to be translated that should be submitted ASAP?\r\n- Do we need to translate any labels for a11y?\r\n\r\n### Observability\r\n\r\n- How will we know that the feature is working? Are there existing graphs we can use or do we need new ones?\r\n- Should any of these metrics have a threshold or alerting?\r\n- Are we missing any key events to obtain user feedback?\r\n- How will we compare our control and variant?\r\n\r\n### Performance\r\n\r\n- Is there anything in my experiment that could degrade performance of the site?\r\n- Do I need an operational experiment to verify that Iâ€™m not impacting performance?\r\n\r\n### Error States\r\n\r\n- Do we have designs for loading states?\r\n- Do we have designs for unsuccessful requests and error handling?\r\n- Do we have informative logging when there are errors?\r\n\r\n### QA\r\n\r\n- What set of browsers and devices should we test our new feature against?\r\n- Which user perspectives do we need to test?\r\n\r\n### Ramping\r\n\r\n- What will our ramping strategy be?\r\n\r\n---\r\n\r\nCheck out the [original post](https://www.etsy.com/codeascraft/a-checklist-manifetsy) for a full writeup and the intentions behind this checklist.\r\n\r\n---\r\n\r\nThis is post 056 of [#100DaysToOffload](https://100daystooffload.com/).\r\n","frontmatter":{"title":"A software requirements checklist","date":"2023-03-11","tags":"100DaysToOffload, note, quote, practices"},"tags":["100DaysToOffload","note","quote","practices"]},{"slug":"2023-03-10-debugging-ecs-tasks","markdownBody":"\r\nI just had to debug an application on AWS ECS. The whole procedure is documented in more detail in the [documentation](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-exec.html), but I think it's beneficial (both for my future self and hopefully to someone out there) to write down the proccess in my own words.\r\n\r\nFirst of all, you need access to the cluster via the [CLI](https://aws.amazon.com/de/cli/). In addition to the CLI, you need the [AWS Session Manager plugin for the CLI](https://docs.aws.amazon.com/systems-manager/latest/userguide/session-manager-working-with-install-plugin.html). If you're on MacOS, you can install that via [Homebrew](https://formulae.brew.sh/cask/session-manager-plugin):\r\n\r\n```\r\nbrew install --cask session-manager-plugin\r\n```\r\n\r\nNext, you need to allow the task you want to debug to be able to execute commands. Since I'm using Terraform, this was just a matter of adding the [`enable_execute_command`](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/ecs_service#enable_execute_command) attribute to the service:\r\n\r\n```tf\r\nresource \"aws_ecs_service\" \"my_service\" {\r\n  name            = \"my-service\"\r\n  cluster         = aws_ecs_cluster.my_cluster.id\r\n  task_definition = aws_ecs_task_definition.my_task_definition.id\r\n  desired_count   = var.app_count\r\n  launch_type     = \"FARGATE\"\r\n  enable_execute_command = true # TODO: Disable after debugging\r\n}\r\n```\r\n\r\nYou may also need specify an execution role in the task definition:\r\n\r\n```tf\r\nresource \"aws_ecs_task_definition\" \"my_task_definition\" {\r\n  family              = \"my-task\"\r\n  task_role_arn       = aws_iam_role.ecs_task_execution_role.arn\r\n  execution_role_arn  = aws_iam_role.ecs_task_execution_role.arn  # \u003c-- Add this\r\n}\r\n```\r\n\r\nMake sure that this role has the correct access rights. There's a nice [troubleshooting guide](https://aws.amazon.com/de/premiumsupport/knowledge-center/ecs-error-execute-command/) going over the required permissions.\r\n\r\nIf you had to do some modifications, make sure to roll out a new deployment with the fresh settings:\r\n\r\n```\r\naws ecs update-service --cluster my-cluster --service my-service --force-new-deployment\r\n```\r\n\r\nNow, you should be able to issue commands against any running container!\r\n\r\n```\r\naws ecs execute-command --cluster westfalen --task \u003ctask-id-or-arn\u003e --container my-container --interactive --command=\"/bin/sh\"\r\n```\r\n\r\nI hope this helps!\r\n\r\n---\r\n\r\nThis is post 055 of [#100DaysToOffload](https://100daystooffload.com/).\r\n","frontmatter":{"title":"Debugging ECS Tasks","date":"2023-03-10","tags":"100DaysToOffload, infrastructure, aws, guide, note, terraform"},"tags":["100DaysToOffload","infrastructure","aws","guide","note","terraform"]},{"slug":"2023-03-08-terraform-and-kubernetes-are-fundamentally-different","markdownBody":"\r\nOn the surface, Infrastructure as Code tools like [Terraform](https://www.terraform.io/) or [CloudFormation](https://aws.amazon.com/de/cloudformation/) may seem to behave similar to [Kubernetes](https://kubernetes.io/) YAMLs, but they are in fact fundamentally different approaches to cloud infrastructure.\r\n\r\nTerraform tries to provide a declarative way to express imperative actions. If you tell Terraform that you need an EC2 instance, it will notice that no such resource exists and instruct the AWS API to create one. If you don't need the instance anymore and remove the resource definition from your code, Terraform will also pick that up and instruct the AWS API to delete the instance. This works well in most cases, but every once in a while the declarative state may get out of sync with the real world, resulting in errors that are hard to debug and resolve.\r\n\r\nKubernetes on the other hand is a fully declarative system. In a [previous post](/posts/2022-09-22-kubernetes-is-a-domain-specific-database) I touched on how Kubernetes constantly compares the *desired* state with the *actual* state of the resources and tries to match the two. Although it is theoretically possible to issue imperative actions, Kubernetes is built from the ground up to be declarative.\r\n\r\n---\r\n\r\nThis is post 054 of [#100DaysToOffload](https://100daystooffload.com/).\r\n","frontmatter":{"title":"The fundamental difference between Terraform and Kubernetes","date":"2023-03-08","tags":"note, infrastructure, terraform, kubernetes, 100DaysToOffload"},"tags":["note","infrastructure","terraform","kubernetes","100DaysToOffload"]},{"slug":"2023-03-04-pods-vs.-containers","markdownBody":"\r\nIn Kubernetes, pods and containers are often confused. I found a [great article](https://iximiuz.com/en/posts/containers-vs-pods/) going over the differences of the two terms.\r\n\r\n\u003e Containers and Pods are alike. Under the hood, they heavily rely on Linux namespaces and cgroups. However, Pods aren't just groups of containers. A Pod is a self-sufficient higher-level construct. All pod's containers run on the same machine (cluster node), their lifecycle is synchronized, and mutual isolation is weakened to simplify the inter-container communication. This makes Pods much closer to traditional VMs, [bringing back the familiar deployment patterns like sidecar or reverse proxy](https://www.mirantis.com/blog/multi-container-pods-and-container-communication-in-kubernetes/).\r\n\r\nIn my own words: Containers are made up of Linux namespaces and cgroups. Pods can be thought of as a cgroup of cgroups (though not really), mimicing the behavior of a virtual machine that runs multiple containers with a synchronized lifecycle. The containers in a pod are losely isolated, making it easy to communicate between each other. Containers in a pod can however set individual resource requests, enabled by Linux namespaces.\r\n\r\nI'd highly encourage you to check out [the original article](https://iximiuz.com/en/posts/containers-vs-pods/) if you want to learn more about this topic.\r\n\r\n---\r\n\r\nThis is post 053 of [#100DaysToOffload](https://100daystooffload.com/).\r\n","frontmatter":{"title":"Pods vs. Containers","date":"2023-03-04","tags":"note, kubernetes, infrastructure, docker, 100DaysToOffload"},"tags":["note","kubernetes","infrastructure","docker","100DaysToOffload"]}]},"__N_SSG":true},"page":"/","query":{},"buildId":"TjQVosWaLfrLOfMIJjDdr","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>